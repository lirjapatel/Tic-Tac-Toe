<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');

body {
  background-color: #f7f7f7;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  margin: 0;
  font-family: 'Open Sans', sans-serif;
}

.board {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  grid-template-rows: repeat(3, 100px);
  gap: 2px;
  border: 3px solid #444;
  background-color: #fff;
  padding: 5px;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}

.cell {
  width: 100px;
  height: 100px;
  border: 1px solid #888;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 36px;
  color: #333;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
}

.cell:hover {
  background-color: #eaeaea;
  transform: scale(1.05);
}

.cell.winner {
  background-color:#5ea4a3;
  color: #fff;
}

#score {
  margin-top: 20px;
  font-size: 24px;
  color: #555;
}

#score span {
  margin-right: 10px;
  font-weight: 600;
}

#buttons {
  display: flex;
  margin-top: 20px;
}

#buttons button {
  font-size: 16px;
  margin-right: 10px;
  padding: 10px 20px;
  cursor: pointer;
  background-color: #5ea4a3;
  color: #fff;
  border: none;
  border-radius: 4px;
  transition: background-color 0.3s;
}

#buttons button:hover {
  background-color: #106270;
}

#buttons button:active {
  transform: scale(0.98);
}

/* Ensure buttons have sufficient spacing on smaller screens */
@media (max-width: 400px) {
  #buttons {
    flex-direction: column;
    align-items: center;
  }

  #buttons button {
    width: 100%;
    margin-bottom: 10px;
  }

  #buttons button:last-child {
    margin-bottom: 0;
  }
}

</style>
</head>
<body>
<div class="board" id="board">
  <div class="cell" data-index="0"></div>
  <div class="cell" data-index="1"></div>
  <div class="cell" data-index="2"></div>
  <div class="cell" data-index="3"></div>
  <div class="cell" data-index="4"></div>
  <div class="cell" data-index="5"></div>
  <div class="cell" data-index="6"></div>
  <div class="cell" data-index="7"></div>
  <div class="cell" data-index="8"></div>
</div>
<div id="score">
  <span>X Score: </span><span id="xScore">0</span><br>
  <span>O Score: </span><span id="oScore">0</span>
</div>
<div id="buttons">
  <button onclick="startAutoplay()">Start Autoplay</button>
  <button onclick="stopAutoplay()">Stop Autoplay</button>
  <button onclick="resetGame()">Reset Scores</button>
</div>

<script>
  let board = document.getElementById('board');
  let cells = document.querySelectorAll('.cell');
  let xScoreDisplay = document.getElementById('xScore');
  let oScoreDisplay = document.getElementById('oScore');
  let currentPlayer = 'X';
  let autoplayInterval;
  let autoplayEnabled = false;
  let xScore = 0;
  let oScore = 0;
  let winningCombos = [
    [0, 1, 2], [3, 4, 5], [6, 7, 8], 
    [0, 3, 6], [1, 4, 7], [2, 5, 8], 
    [0, 4, 8], [2, 4, 6] 
  ];

  function startAutoplay() {
    if (!autoplayEnabled) {
      autoplayEnabled = true;
      autoplayInterval = setInterval(computerMove, 500);
    }
  }

  function stopAutoplay() {
    autoplayEnabled = false;
    clearInterval(autoplayInterval);
  }

  function computerMove() {
    let emptyCells = Array.from(cells).filter(cell => !cell.textContent);
    if (emptyCells.length === 0) return;
    let randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
    randomCell.textContent = currentPlayer;
    checkWinner();
    togglePlayer();
  }

  function togglePlayer() {
    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
  }

  function checkWinner() {
    for (let combo of winningCombos) {
      let [a, b, c] = combo;
      if (cells[a].textContent && cells[a].textContent === cells[b].textContent && cells[a].textContent === cells[c].textContent) {
        cells[a].classList.add('winner');
        cells[b].classList.add('winner');
        cells[c].classList.add('winner');
        if (currentPlayer === 'X') {
          xScore++;
          xScoreDisplay.textContent = xScore;
        } else {
          oScore++;
          oScoreDisplay.textContent = oScore;
        }
        setTimeout(() => {
          alert(`${cells[a].textContent} wins!`);
          resetBoard();
        }, 100);
        return;
      }
    }
    if (!Array.from(cells).some(cell => !cell.textContent)) {
      alert("It's a tie!");
      resetBoard();
    }
  }

  function resetScores() {
    xScore = 0;
    oScore = 0;
    xScoreDisplay.textContent = xScore;
    oScoreDisplay.textContent = oScore;
  }

  function resetGame() {
    resetScores();
    stopAutoplay();
    resetBoard();
  }

  function resetBoard() {
    cells.forEach(cell => {
      cell.textContent = '';
      cell.classList.remove('winner');
    });
    currentPlayer = 'X';
  }

  board.addEventListener('click', function(event) {
    if (autoplayEnabled) return;
    if (event.target.classList.contains('cell') && !event.target.textContent) {
      event.target.textContent = currentPlayer;
      checkWinner();
      togglePlayer();
      if (autoplayEnabled) {
        setTimeout(computerMove, 500);
      }
    }
  });
</script>
</body>
</html>
